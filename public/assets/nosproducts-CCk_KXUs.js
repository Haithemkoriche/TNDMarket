import{a6 as ge,al as Ke,aG as Qe,L as p,aT as Ee,aR as Le,Z as se,aL as Ae,r as P,aU as We,N as Ge,aV as je,ah as Oe,a8 as Be,aW as Xe,R as Ue,aI as Ye,aq as Je,ab as De,aM as ce,b as e,H as Pe,aX as He,az as et,I as Ze,aY as tt,ao as at,an as Fe,a9 as lt,F as fe,p as st,D as ot,w as rt,o as V,c as q,e as l,d as r,h as he,a3 as N,s as m,aZ as it,t as k,$ as Y,v as nt,x as oe,a_ as ut,au as dt,f as re,j as ct,P as vt,Q as mt}from"./main-Dc8fLLio.js";import{_ as ft}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as pe,a as ht,b as pt}from"./VContainer-CK_gZQvn.js";import{V as we}from"./VAvatar-CuFlpItv.js";import{V as bt,a as $e,b as _t}from"./VList-DJa-ehqo.js";import{V as be}from"./VDivider-D6pnG8a5.js";import{V as yt}from"./VNavigationDrawer-CzcXTHiT.js";import{V as ve,b as gt,c as qe}from"./VCard-CkB6CIXi.js";import{V as de,a as F}from"./VRow-TywjCKkg.js";import{a as kt,m as xt,u as Vt,V as Ne,b as wt,c as me}from"./VTextField-BtIlFlGn.js";import{V as Se}from"./VSelect-CFNDzyn7.js";import{V as St}from"./VCheckbox-BwRcH4vJ.js";import{V as Ct}from"./VPagination-tEoifavA.js";import{V as _e}from"./VCardText-DxD8k5-8.js";import{V as Ce}from"./VImg-BDT53czw.js";import{V as Tt}from"./VTextarea-CYzPfUum.js";import{V as Pt}from"./VAlert-MFaUqgLV.js";import{V as zt}from"./VSpacer-tkMCkaMl.js";import{V as Lt}from"./VDialog-B0k7aTaW.js";import{V as ye}from"./VChip-DXfzaw2X.js";/* empty css              */import"./scopeId-CyTsLL5x.js";import"./forwardRefs-DWGaNmQL.js";import"./VOverlay-C_apeV14.js";import"./VMenu-Bs42EHWd.js";import"./VCheckboxBtn-DoNR63xf.js";import"./VSelectionControl-B1Qq_A9U.js";const Me=Symbol.for("vuetify:v-slider");function ze(a,i,c){const g=c==="vertical",v=i.getBoundingClientRect(),_="touches"in a?a.touches[0]:a;return g?_.clientY-(v.top+v.height/2):_.clientX-(v.left+v.width/2)}function Bt(a,i){return"touches"in a&&a.touches.length?a.touches[0][i]:"changedTouches"in a&&a.changedTouches.length?a.changedTouches[0][i]:a[i]}const Dt=ge({disabled:{type:Boolean,default:null},error:Boolean,readonly:{type:Boolean,default:null},max:{type:[Number,String],default:100},min:{type:[Number,String],default:0},step:{type:[Number,String],default:0},thumbColor:String,thumbLabel:{type:[Boolean,String],default:void 0,validator:a=>typeof a=="boolean"||a==="always"},thumbSize:{type:[Number,String],default:20},showTicks:{type:[Boolean,String],default:!1,validator:a=>typeof a=="boolean"||a==="always"},ticks:{type:[Array,Object]},tickSize:{type:[Number,String],default:2},color:String,trackColor:String,trackFillColor:String,trackSize:{type:[Number,String],default:4},direction:{type:String,default:"horizontal",validator:a=>["vertical","horizontal"].includes(a)},reverse:Boolean,...Ke(),...Qe({elevation:2}),ripple:{type:Boolean,default:!0}},"Slider"),Mt=a=>{const i=p(()=>parseFloat(a.min)),c=p(()=>parseFloat(a.max)),g=p(()=>+a.step>0?parseFloat(a.step):0),v=p(()=>Math.max(Ee(g.value),Ee(i.value)));function _(E){if(E=parseFloat(E),g.value<=0)return E;const L=je(E,i.value,c.value),D=i.value%g.value,I=Math.round((L-D)/g.value)*g.value+D;return parseFloat(Math.min(I,c.value).toFixed(v.value))}return{min:i,max:c,step:g,decimals:v,roundValue:_}},Rt=a=>{let{props:i,steps:c,onSliderStart:g,onSliderMove:v,onSliderEnd:_,getActiveThumb:E}=a;const{isRtl:L}=Le(),D=se(i,"reverse"),I=p(()=>i.direction==="vertical"),u=p(()=>I.value!==D.value),{min:f,max:$,step:j,decimals:O,roundValue:w}=c,x=p(()=>parseInt(i.thumbSize,10)),Q=p(()=>parseInt(i.tickSize,10)),U=p(()=>parseInt(i.trackSize,10)),A=p(()=>($.value-f.value)/j.value),H=se(i,"disabled"),Z=p(()=>i.error||i.disabled?void 0:i.thumbColor??i.color),W=p(()=>i.error||i.disabled?void 0:i.trackColor??i.color),ee=p(()=>i.error||i.disabled?void 0:i.trackFillColor??i.color),G=Ae(!1),M=Ae(0),S=P(),y=P();function n(d){var Re;const B=i.direction==="vertical",ke=B?"top":"left",s=B?"height":"width",o=B?"clientY":"clientX",{[ke]:t,[s]:le}=(Re=S.value)==null?void 0:Re.$el.getBoundingClientRect(),xe=Bt(d,o);let Ve=Math.min(Math.max((xe-t-M.value)/le,0),1)||0;return(B?u.value:u.value!==L.value)&&(Ve=1-Ve),w(f.value+Ve*($.value-f.value))}const b=d=>{_({value:n(d)}),G.value=!1,M.value=0},T=d=>{y.value=E(d),y.value&&(y.value.focus(),G.value=!0,y.value.contains(d.target)?M.value=ze(d,y.value,i.direction):(M.value=0,v({value:n(d)})),g({value:n(d)}))},z={passive:!0,capture:!0};function K(d){v({value:n(d)})}function R(d){d.stopPropagation(),d.preventDefault(),b(d),window.removeEventListener("mousemove",K,z),window.removeEventListener("mouseup",R)}function X(d){var B;b(d),window.removeEventListener("touchmove",K,z),(B=d.target)==null||B.removeEventListener("touchend",X)}function te(d){var B;T(d),window.addEventListener("touchmove",K,z),(B=d.target)==null||B.addEventListener("touchend",X,{passive:!1})}function C(d){d.preventDefault(),T(d),window.addEventListener("mousemove",K,z),window.addEventListener("mouseup",R,{passive:!1})}const h=d=>{const B=(d-f.value)/($.value-f.value)*100;return je(isNaN(B)?0:B,0,100)},ae=se(i,"showTicks"),ie=p(()=>ae.value?i.ticks?Array.isArray(i.ticks)?i.ticks.map(d=>({value:d,position:h(d),label:d.toString()})):Object.keys(i.ticks).map(d=>({value:parseFloat(d),position:h(parseFloat(d)),label:i.ticks[d]})):A.value!==1/0?We(A.value+1).map(d=>{const B=f.value+d*j.value;return{value:B,position:h(B)}}):[]:[]),ne=p(()=>ie.value.some(d=>{let{label:B}=d;return!!B})),ue={activeThumbRef:y,color:se(i,"color"),decimals:O,disabled:H,direction:se(i,"direction"),elevation:se(i,"elevation"),hasLabels:ne,isReversed:D,indexFromEnd:u,min:f,max:$,mousePressed:G,numTicks:A,onSliderMousedown:C,onSliderTouchstart:te,parsedTicks:ie,parseMouseMove:n,position:h,readonly:se(i,"readonly"),rounded:se(i,"rounded"),roundValue:w,showTicks:ae,startOffset:M,step:j,thumbSize:x,thumbColor:Z,thumbLabel:se(i,"thumbLabel"),ticks:se(i,"ticks"),tickSize:Q,trackColor:W,trackContainerRef:S,trackFillColor:ee,trackSize:U,vertical:I};return Ge(Me,ue),ue},Et=ge({focused:Boolean,max:{type:Number,required:!0},min:{type:Number,required:!0},modelValue:{type:Number,required:!0},position:{type:Number,required:!0},ripple:{type:[Boolean,Object],default:!0},name:String,...Oe()},"VSliderThumb"),Ie=Be()({name:"VSliderThumb",directives:{Ripple:Xe},props:Et(),emits:{"update:modelValue":a=>!0},setup(a,i){let{slots:c,emit:g}=i;const v=Ue(Me),{isRtl:_,rtlClasses:E}=Le();if(!v)throw new Error("[Vuetify] v-slider-thumb must be used inside v-slider or v-range-slider");const{thumbColor:L,step:D,disabled:I,thumbSize:u,thumbLabel:f,direction:$,isReversed:j,vertical:O,readonly:w,elevation:x,mousePressed:Q,decimals:U,indexFromEnd:A}=v,H=p(()=>I.value?void 0:x.value),{elevationClasses:Z}=Ye(H),{textColorClasses:W,textColorStyles:ee}=Je(L),{pageup:G,pagedown:M,end:S,home:y,left:n,right:b,down:T,up:z}=tt,K=[G,M,S,y,n,b,T,z],R=p(()=>D.value?[1,2,3]:[1,5,10]);function X(C,h){if(!K.includes(C.key))return;C.preventDefault();const ae=D.value||.1,ie=(a.max-a.min)/ae;if([n,b,T,z].includes(C.key)){const ue=(O.value?[_.value?n:b,j.value?T:z]:A.value!==_.value?[n,z]:[b,z]).includes(C.key)?1:-1,d=C.shiftKey?2:C.ctrlKey?1:0;h=h+ue*ae*R.value[d]}else if(C.key===y)h=a.min;else if(C.key===S)h=a.max;else{const ne=C.key===M?1:-1;h=h-ne*ae*(ie>100?ie/10:10)}return Math.max(a.min,Math.min(a.max,h))}function te(C){const h=X(C,a.modelValue);h!=null&&g("update:modelValue",h)}return De(()=>{const C=ce(A.value?100-a.position:a.position,"%");return e("div",{class:["v-slider-thumb",{"v-slider-thumb--focused":a.focused,"v-slider-thumb--pressed":a.focused&&Q.value},a.class,E.value],style:[{"--v-slider-thumb-position":C,"--v-slider-thumb-size":ce(u.value)},a.style],role:"slider",tabindex:I.value?-1:0,"aria-label":a.name,"aria-valuemin":a.min,"aria-valuemax":a.max,"aria-valuenow":a.modelValue,"aria-readonly":!!w.value,"aria-orientation":$.value,onKeydown:w.value?void 0:te},[e("div",{class:["v-slider-thumb__surface",W.value,Z.value],style:{...ee.value}},null),Pe(e("div",{class:["v-slider-thumb__ripple",W.value],style:ee.value},null),[[He("ripple"),a.ripple,null,{circle:!0,center:!0}]]),e(et,{origin:"bottom center"},{default:()=>{var h;return[Pe(e("div",{class:"v-slider-thumb__label-container"},[e("div",{class:["v-slider-thumb__label"]},[e("div",null,[((h=c["thumb-label"])==null?void 0:h.call(c,{modelValue:a.modelValue}))??a.modelValue.toFixed(D.value?U.value:1)])])]),[[Ze,f.value&&a.focused||f.value==="always"]])]}})])}),{}}}),At=ge({start:{type:Number,required:!0},stop:{type:Number,required:!0},...Oe()},"VSliderTrack"),Ft=Be()({name:"VSliderTrack",props:At(),emits:{},setup(a,i){let{slots:c}=i;const g=Ue(Me);if(!g)throw new Error("[Vuetify] v-slider-track must be inside v-slider or v-range-slider");const{color:v,parsedTicks:_,rounded:E,showTicks:L,tickSize:D,trackColor:I,trackFillColor:u,trackSize:f,vertical:$,min:j,max:O,indexFromEnd:w}=g,{roundedClasses:x}=at(E),{backgroundColorClasses:Q,backgroundColorStyles:U}=Fe(u),{backgroundColorClasses:A,backgroundColorStyles:H}=Fe(I),Z=p(()=>`inset-${$.value?"block":"inline"}-${w.value?"end":"start"}`),W=p(()=>$.value?"height":"width"),ee=p(()=>({[Z.value]:"0%",[W.value]:"100%"})),G=p(()=>a.stop-a.start),M=p(()=>({[Z.value]:ce(a.start,"%"),[W.value]:ce(G.value,"%")})),S=p(()=>L.value?($.value?_.value.slice().reverse():_.value).map((n,b)=>{var z;const T=n.value!==j.value&&n.value!==O.value?ce(n.position,"%"):void 0;return e("div",{key:n.value,class:["v-slider-track__tick",{"v-slider-track__tick--filled":n.position>=a.start&&n.position<=a.stop,"v-slider-track__tick--first":n.value===j.value,"v-slider-track__tick--last":n.value===O.value}],style:{[Z.value]:T}},[(n.label||c["tick-label"])&&e("div",{class:"v-slider-track__tick-label"},[((z=c["tick-label"])==null?void 0:z.call(c,{tick:n,index:b}))??n.label])])}):[]);return De(()=>e("div",{class:["v-slider-track",x.value,a.class],style:[{"--v-slider-track-size":ce(f.value),"--v-slider-tick-size":ce(D.value)},a.style]},[e("div",{class:["v-slider-track__background",A.value,{"v-slider-track__background--opacity":!!v.value||!u.value}],style:{...ee.value,...H.value}},null),e("div",{class:["v-slider-track__fill",Q.value],style:{...M.value,...U.value}},null),L.value&&e("div",{class:["v-slider-track__ticks",{"v-slider-track__ticks--always-show":L.value==="always"}]},[S.value])])),{}}}),$t=ge({...kt(),...xt(),...Dt(),strict:Boolean,modelValue:{type:Array,default:()=>[0,0]}},"VRangeSlider"),qt=Be()({name:"VRangeSlider",props:$t(),emits:{"update:focused":a=>!0,"update:modelValue":a=>!0,end:a=>!0,start:a=>!0},setup(a,i){let{slots:c,emit:g}=i;const v=P(),_=P(),E=P(),{rtlClasses:L}=Le();function D(S){if(!v.value||!_.value)return;const y=ze(S,v.value.$el,a.direction),n=ze(S,_.value.$el,a.direction),b=Math.abs(y),T=Math.abs(n);return b<T||b===T&&y<0?v.value.$el:_.value.$el}const I=Mt(a),u=lt(a,"modelValue",void 0,S=>S!=null&&S.length?S.map(y=>I.roundValue(y)):[0,0]),{activeThumbRef:f,hasLabels:$,max:j,min:O,mousePressed:w,onSliderMousedown:x,onSliderTouchstart:Q,position:U,trackContainerRef:A,readonly:H}=Rt({props:a,steps:I,onSliderStart:()=>{g("start",u.value)},onSliderEnd:S=>{var b;let{value:y}=S;const n=f.value===((b=v.value)==null?void 0:b.$el)?[y,u.value[1]]:[u.value[0],y];!a.strict&&n[0]<n[1]&&(u.value=n),g("end",u.value)},onSliderMove:S=>{var T,z,K,R;let{value:y}=S;const[n,b]=u.value;!a.strict&&n===b&&n!==O.value&&(f.value=y>n?(T=_.value)==null?void 0:T.$el:(z=v.value)==null?void 0:z.$el,(K=f.value)==null||K.focus()),f.value===((R=v.value)==null?void 0:R.$el)?u.value=[Math.min(y,b),b]:u.value=[n,Math.max(n,y)]},getActiveThumb:D}),{isFocused:Z,focus:W,blur:ee}=Vt(a),G=p(()=>U(u.value[0])),M=p(()=>U(u.value[1]));return De(()=>{const S=Ne.filterProps(a),y=!!(a.label||c.label||c.prepend);return e(Ne,st({class:["v-slider","v-range-slider",{"v-slider--has-labels":!!c["tick-label"]||$.value,"v-slider--focused":Z.value,"v-slider--pressed":w.value,"v-slider--disabled":a.disabled},L.value,a.class],style:a.style,ref:E},S,{focused:Z.value}),{...c,prepend:y?n=>{var b,T;return e(fe,null,[((b=c.label)==null?void 0:b.call(c,n))??(a.label?e(wt,{class:"v-slider__label",text:a.label},null):void 0),(T=c.prepend)==null?void 0:T.call(c,n)])}:void 0,default:n=>{var z,K;let{id:b,messagesId:T}=n;return e("div",{class:"v-slider__container",onMousedown:H.value?void 0:x,onTouchstartPassive:H.value?void 0:Q},[e("input",{id:`${b.value}_start`,name:a.name||b.value,disabled:!!a.disabled,readonly:!!a.readonly,tabindex:"-1",value:u.value[0]},null),e("input",{id:`${b.value}_stop`,name:a.name||b.value,disabled:!!a.disabled,readonly:!!a.readonly,tabindex:"-1",value:u.value[1]},null),e(Ft,{ref:A,start:G.value,stop:M.value},{"tick-label":c["tick-label"]}),e(Ie,{ref:v,"aria-describedby":T.value,focused:Z&&f.value===((z=v.value)==null?void 0:z.$el),modelValue:u.value[0],"onUpdate:modelValue":R=>u.value=[R,u.value[1]],onFocus:R=>{var X,te,C,h;W(),f.value=(X=v.value)==null?void 0:X.$el,u.value[0]===u.value[1]&&u.value[1]===O.value&&R.relatedTarget!==((te=_.value)==null?void 0:te.$el)&&((C=v.value)==null||C.$el.blur(),(h=_.value)==null||h.$el.focus())},onBlur:()=>{ee(),f.value=void 0},min:O.value,max:u.value[1],position:G.value,ripple:a.ripple},{"thumb-label":c["thumb-label"]}),e(Ie,{ref:_,"aria-describedby":T.value,focused:Z&&f.value===((K=_.value)==null?void 0:K.$el),modelValue:u.value[1],"onUpdate:modelValue":R=>u.value=[u.value[0],R],onFocus:R=>{var X,te,C,h;W(),f.value=(X=_.value)==null?void 0:X.$el,u.value[0]===u.value[1]&&u.value[0]===j.value&&R.relatedTarget!==((te=v.value)==null?void 0:te.$el)&&((C=_.value)==null||C.$el.blur(),(h=v.value)==null||h.$el.focus())},onBlur:()=>{ee(),f.value=void 0},min:u.value[0],max:j.value,position:M.value,ripple:a.ripple},{"thumb-label":c["thumb-label"]})])}})}),{}}}),J=a=>(vt("data-v-1d70d623"),a=a(),mt(),a),Nt={class:"d-flex align-center"},It=J(()=>r("span",{class:"text-white font-weight-bold text-caption"},"TM",-1)),jt=J(()=>r("span",{class:"text-h6 font-weight-bold gradient-text"},"TNDMarket",-1)),Ot={class:"d-none d-md-flex"},Ut={class:"d-none d-md-flex ga-3"},Zt={class:"products-hero py-16 mt-16"},Kt=J(()=>r("div",{class:"text-center"},[r("h1",{class:"text-h2 font-weight-bold mb-4"},[m(" Nos "),r("span",{class:"gradient-text"},"Produits Artisanaux")]),r("p",{class:"text-h6 text-grey-darken-1 mb-8",style:{"margin-block":"0","margin-inline":"auto","max-inline-size":"600px"}}," Découvrez une collection unique de produits créés avec passion par nos artisans handicapés ")],-1)),Qt={class:"py-8 bg-grey-lighten-5"},Wt={class:"text-caption"},Gt={class:"text-caption"},Xt={class:"text-center mt-4"},Yt={class:"py-8"},Jt={class:"d-flex justify-space-between align-center mb-6"},Ht={class:"text-h5 font-weight-bold"},ea={key:0,class:"text-grey-darken-1"},ta={class:"d-flex ga-2"},aa={key:0,class:"text-center py-12"},la=J(()=>r("p",{class:"mt-4 text-grey-darken-1"},"Chargement des produits...",-1)),sa={key:1,class:"text-center py-12"},oa=J(()=>r("h3",{class:"text-h5 mb-2"},"Erreur de chargement",-1)),ra={class:"text-grey-darken-1 mb-4"},ia={key:2,class:"text-center py-12"},na=J(()=>r("h3",{class:"text-h5 mb-2"},"Aucun produit trouvé",-1)),ua=J(()=>r("p",{class:"text-grey-darken-1 mb-4"}," Essayez de modifier vos critères de recherche ou parcourez tous nos produits ",-1)),da={key:3},ca={class:"product-image-container"},va={class:"d-flex align-center justify-center fill-height bg-grey-lighten-3"},ma={class:"d-flex align-center justify-center fill-height bg-grey-lighten-3"},fa={class:"text-h6 font-weight-bold mb-2 line-clamp-2"},ha={class:"text-body-2 text-grey-darken-1 mb-3 line-clamp-3"},pa={key:0,class:"d-flex align-center mb-3"},ba={class:"text-caption text-grey-darken-1"},_a={class:"d-flex justify-space-between align-center w-100"},ya={class:"text-h6 font-weight-bold text-primary"},ga={class:"d-flex ga-2"},ka={key:1,class:"d-flex flex-column ga-4"},xa={class:"d-flex align-center justify-center fill-height bg-grey-lighten-3"},Va={class:"d-flex justify-space-between align-start mb-3"},wa={class:"text-h5 font-weight-bold mb-2"},Sa={key:0,class:"d-flex align-center mb-2"},Ca={class:"text-caption text-grey-darken-1"},Ta={class:"text-end"},Pa={class:"text-h5 font-weight-bold text-primary mb-2"},za={class:"text-body-1 text-grey-darken-1 mb-4"},La={class:"d-flex ga-3"},Ba={key:2,class:"d-flex justify-center mt-8"},Da={key:0,class:"text-center py-8"},Ma=J(()=>r("h3",{class:"text-h5 mb-2 text-success"}," Commande passée avec succès! ",-1)),Ra=J(()=>r("p",{class:"text-body-1 text-grey-darken-1"}," Vous recevrez une confirmation par email avec les détails de votre commande. ",-1)),Ea={key:1},Aa={key:0,class:"mb-6"},Fa=J(()=>r("h3",{class:"text-h6 mb-3"},"Produit sélectionné",-1)),$a={class:"text-h6 mb-2"},qa={class:"text-body-2 text-grey-darken-1 mb-2"},Na={class:"d-flex justify-space-between align-center"},Ia={class:"text-h6 font-weight-bold text-primary"},ja={class:"text-caption"},Oa={class:"mb-6"},Ua=J(()=>r("h3",{class:"text-h6 mb-3"},"Quantité",-1)),Za={class:"text-h6 font-weight-bold text-success"},Ka={class:"mb-6"},Qa=J(()=>r("h3",{class:"text-h6 mb-3"},"Vos informations",-1)),Te=12,Wa={__name:"nosproducts",setup(a){const i=ct(),c=P(!1),g=P(""),v=P(null),_=P("date_desc"),E=P(!1),L=P([0,5e4]),D=P(!1),I=P("grid"),u=P(1),f=P([]),$=P(!0),j=P(null),O=P(!1),w=P(null),x=P({quantity:1,buyer_info:{full_name:"",email:"",phone:"",address:"",wilaya:""}}),Q=P(!1),U=P(!1),A=P(null),H=[{title:"Accueil",href:"/"},{title:"Produits",href:"/products"},{title:"À propos",href:"/about"},{title:"Contact",href:"/contact"}],Z=["Artisanat","Textile","Bijoux","Décoration","Cuisine","Art","Autre"],W=[{title:"Plus récents",value:"date_desc"},{title:"Plus anciens",value:"date_asc"},{title:"Prix croissant",value:"price_asc"},{title:"Prix décroissant",value:"price_desc"},{title:"Alphabétique A-Z",value:"name_asc"},{title:"Alphabétique Z-A",value:"name_desc"}],ee=["Adrar","Chlef","Laghouat","Oum El Bouaghi","Batna","Béjaïa","Biskra","Béchar","Blida","Bouira","Tamanrasset","Tébessa","Tlemcen","Tiaret","Tizi Ouzou","Alger","Djelfa","Jijel","Sétif","Saïda","Skikda","Sidi Bel Abbès","Annaba","Guelma","Constantine","Médéa","Mostaganem","M'Sila","Mascara","Ouargla","Oran","El Bayadh","Illizi","Bordj Bou Arréridj","Boumerdès","El Tarf","Tindouf","Tissemsilt","El Oued","Khenchela","Souk Ahras","Tipaza","Mila","Aïn Defla","Naâma","Aïn Témouchent","Ghardaïa","Relizane"],G=p(()=>[s=>!!s||"La quantité est requise",s=>s>0||"La quantité doit être positive",s=>{var o;return s<=(((o=w.value)==null?void 0:o.stock)||1)||"Quantité supérieure au stock disponible"}]),M={full_name:[s=>!!s||"Le nom complet est requis",s=>s&&s.length>=2||"Le nom doit contenir au moins 2 caractères"],email:[s=>!!s||"L'email est requis",s=>/.+@.+\..+/.test(s)||"L'email n'est pas valide"],phone:[s=>!!s||"Le téléphone est requis",s=>/^[0-9+\-\s]+$/.test(s)||"Numéro de téléphone invalide"],address:[s=>!!s||"L'adresse est requise",s=>s&&s.length>=10||"L'adresse doit être plus détaillée"],wilaya:[s=>!!s||"La wilaya est requise"]},S=p(()=>Math.min(...f.value.map(s=>s.price),0)),y=p(()=>Math.max(...f.value.map(s=>s.price),5e4)),n=p(()=>{let s=[...f.value];if(g.value){const o=g.value.toLowerCase();s=s.filter(t=>t.title.toLowerCase().includes(o)||t.description.toLowerCase().includes(o)||t.user&&t.user.name.toLowerCase().includes(o))}switch(v.value&&(s=s.filter(o=>o.category===v.value)),s=s.filter(o=>o.price>=L.value[0]&&o.price<=L.value[1]),D.value&&(s=s.filter(o=>o.stock>0)),_.value){case"price_asc":s.sort((o,t)=>o.price-t.price);break;case"price_desc":s.sort((o,t)=>t.price-o.price);break;case"name_asc":s.sort((o,t)=>o.title.localeCompare(t.title));break;case"name_desc":s.sort((o,t)=>t.title.localeCompare(o.title));break;case"date_asc":s.sort((o,t)=>new Date(o.created_at)-new Date(t.created_at));break;case"date_desc":default:s.sort((o,t)=>new Date(t.created_at)-new Date(o.created_at));break}return s}),b=p(()=>Math.ceil(n.value.length/Te)),T=p(()=>{const s=(u.value-1)*Te,o=s+Te;return n.value.slice(s,o)}),z=async()=>{try{$.value=!0,j.value=null;const s=await fetch("/api/products/all");if(!s.ok)throw new Error("Erreur lors du chargement des produits");const o=await s.json();f.value=o,f.value.length>0&&(L.value=[S.value,y.value])}catch(s){j.value=s.message,console.error("Erreur lors du chargement des produits:",s)}finally{$.value=!1}},K=()=>{u.value=1},R=()=>{u.value=1},X=()=>{u.value=1},te=()=>{u.value=1},C=()=>{g.value="",v.value=null,_.value="date_desc",L.value=[S.value,y.value],D.value=!1,u.value=1},h=s=>new Intl.NumberFormat("fr-DZ").format(s),ae=s=>s?s.startsWith("http")?s:`/storage/${s}`:"/placeholder-product.jpg",ie=s=>{i.push(`/product/${s.id}`)},ne=s=>{w.value=s,x.value.quantity=1,x.value.buyer_info={full_name:"",email:"",phone:"",address:"",wilaya:""},A.value=null,U.value=!1,O.value=!0},ue=()=>{O.value=!1,w.value=null,Q.value=!1,A.value=null,U.value=!1},d=()=>w.value?w.value.price*x.value.quantity:0,B=async()=>{try{Q.value=!0,A.value=null;const s={product_id:w.value.id,quantity:x.value.quantity,buyer_info:x.value.buyer_info},o=await fetch("/api/orders",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(s)}),t=await o.json();if(!o.ok)throw new Error(t.message||"Erreur lors de la commande");U.value=!0;const le=f.value.findIndex(xe=>xe.id===w.value.id);le!==-1&&(f.value[le].stock-=x.value.quantity),setTimeout(()=>{ue()},2e3)}catch(s){A.value=s.message,console.error("Erreur lors de la commande:",s)}finally{Q.value=!1}},ke=()=>{window.scrollTo({top:0,behavior:"smooth"})};return ot(()=>{z()}),rt([g,v,D],()=>{R()}),(s,o)=>(V(),q("div",null,[e(pt,{app:"",fixed:"",elevation:"2",color:"white",class:"navbar-blur"},{default:l(()=>[e(pe,{class:"d-flex align-center justify-space-between pa-0"},{default:l(()=>[r("div",Nt,[e(we,{size:"32",class:"gradient-avatar me-2"},{default:l(()=>[It]),_:1}),jt]),r("div",Ot,[(V(),q(fe,null,he(H,t=>e(N,{key:t.title,href:t.href,variant:"text",class:"me-4 text-body-1 font-weight-medium",color:"grey-darken-2"},{default:l(()=>[m(k(t.title),1)]),_:2},1032,["href"])),64))]),r("div",Ut,[e(N,{variant:"text",color:"primary",class:"font-weight-medium",href:"/login"},{default:l(()=>[m(" Connexion ")]),_:1}),e(N,{variant:"flat",class:"gradient-btn font-weight-medium",elevation:"0",href:"/register"},{default:l(()=>[m(" S'inscrire ")]),_:1})]),e(ht,{class:"d-md-none",onClick:o[0]||(o[0]=t=>c.value=!c.value)})]),_:1})]),_:1}),e(yt,{modelValue:c.value,"onUpdate:modelValue":o[1]||(o[1]=t=>c.value=t),temporary:"",location:"right",width:"300"},{default:l(()=>[e(bt,null,{default:l(()=>[(V(),q(fe,null,he(H,t=>e($e,{key:t.title,href:t.href,link:""},{default:l(()=>[e(_t,null,{default:l(()=>[m(k(t.title),1)]),_:2},1024)]),_:2},1032,["href"])),64)),e(be,{class:"my-4"}),e($e,null,{default:l(()=>[e(N,{block:"",variant:"text",color:"primary",class:"mb-2",href:"/login"},{default:l(()=>[m(" Connexion ")]),_:1}),e(N,{block:"",class:"gradient-btn",href:"/register"},{default:l(()=>[m(" S'inscrire ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),r("section",Zt,[e(pe,null,{default:l(()=>[Kt]),_:1})]),r("section",Qt,[e(pe,null,{default:l(()=>[e(ve,{class:"pa-6",elevation:"2"},{default:l(()=>[e(de,{align:"center"},{default:l(()=>[e(F,{cols:"12",md:"6"},{default:l(()=>[e(me,{modelValue:g.value,"onUpdate:modelValue":o[2]||(o[2]=t=>g.value=t),label:"Rechercher un produit...","prepend-inner-icon":"tabler-search",variant:"outlined",clearable:"","hide-details":"",onInput:K},null,8,["modelValue"])]),_:1}),e(F,{cols:"12",sm:"6",md:"3"},{default:l(()=>[e(Se,{modelValue:v.value,"onUpdate:modelValue":[o[3]||(o[3]=t=>v.value=t),R],items:Z,label:"Catégorie",variant:"outlined",clearable:"","hide-details":""},null,8,["modelValue"])]),_:1}),e(F,{cols:"12",sm:"6",md:"3"},{default:l(()=>[e(Se,{modelValue:_.value,"onUpdate:modelValue":[o[4]||(o[4]=t=>_.value=t),X],items:W,label:"Trier par",variant:"outlined","hide-details":""},null,8,["modelValue"])]),_:1})]),_:1}),e(it,null,{default:l(()=>[Pe(r("div",null,[e(be,{class:"my-4"}),e(de,null,{default:l(()=>[e(F,{cols:"12",md:"4"},{default:l(()=>[e(qt,{modelValue:L.value,"onUpdate:modelValue":o[5]||(o[5]=t=>L.value=t),min:S.value,max:y.value,step:100,label:"Fourchette de prix (DZD)",onEnd:te},{prepend:l(()=>[r("span",Wt,k(h(L.value[0])),1)]),append:l(()=>[r("span",Gt,k(h(L.value[1])),1)]),_:1},8,["modelValue","min","max"])]),_:1}),e(F,{cols:"12",md:"4"},{default:l(()=>[e(St,{modelValue:D.value,"onUpdate:modelValue":o[6]||(o[6]=t=>D.value=t),label:"Produits en stock uniquement",onChange:R},null,8,["modelValue"])]),_:1}),e(F,{cols:"12",md:"4",class:"d-flex align-center"},{default:l(()=>[e(N,{variant:"outlined",color:"grey-darken-2",onClick:C},{default:l(()=>[m(" Réinitialiser les filtres ")]),_:1})]),_:1})]),_:1})],512),[[Ze,E.value]])]),_:1}),r("div",Xt,[e(N,{variant:"text",color:"primary",onClick:o[7]||(o[7]=t=>E.value=!E.value)},{default:l(()=>[m(k(E.value?"Masquer":"Afficher")+" les filtres avancés ",1),e(Y,{class:nt({"rotate-180":E.value})},{default:l(()=>[m(" tabler-chevron-down ")]),_:1},8,["class"])]),_:1})])]),_:1})]),_:1})]),r("section",Yt,[e(pe,null,{default:l(()=>[r("div",Jt,[r("div",null,[r("h3",Ht,k(n.value.length)+" produit"+k(n.value.length>1?"s":"")+" trouvé"+k(n.value.length>1?"s":""),1),g.value?(V(),q("p",ea,' Résultats pour "'+k(g.value)+'" ',1)):oe("",!0)]),r("div",ta,[e(ut,{modelValue:I.value,"onUpdate:modelValue":o[8]||(o[8]=t=>I.value=t),mandatory:"",variant:"outlined",color:"primary"},{default:l(()=>[e(N,{value:"grid",icon:"tabler-grid-3x3"}),e(N,{value:"list",icon:"tabler-list"})]),_:1},8,["modelValue"])])]),$.value?(V(),q("div",aa,[e(dt,{indeterminate:"",color:"primary",size:"64"}),la])):j.value?(V(),q("div",sa,[e(Y,{color:"error",size:"64",class:"mb-4"},{default:l(()=>[m("tabler-alert-circle")]),_:1}),oa,r("p",ra,k(j.value),1),e(N,{color:"primary",onClick:z},{default:l(()=>[m("Réessayer")]),_:1})])):n.value.length===0&&!$.value?(V(),q("div",ia,[e(Y,{color:"grey-lighten-1",size:"80",class:"mb-4"},{default:l(()=>[m("tabler-search-off")]),_:1}),na,ua,e(N,{color:"primary",onClick:C},{default:l(()=>[m(" Voir tous les produits ")]),_:1})])):(V(),q("div",da,[I.value==="grid"?(V(),re(de,{key:0},{default:l(()=>[(V(!0),q(fe,null,he(T.value,t=>(V(),re(F,{key:t.id,cols:"12",sm:"6",md:"4",lg:"3"},{default:l(()=>[e(ve,{class:"product-card h-100",elevation:"4",hover:""},{default:l(()=>[r("div",ca,[e(Ce,{src:ae(t.photo),alt:t.title,height:"200",cover:"",class:"product-image"},{placeholder:l(()=>[r("div",va,[e(Y,{color:"grey-lighten-1",size:"64"},{default:l(()=>[m("tabler-photo")]),_:1})])]),error:l(()=>[r("div",ma,[e(Y,{color:"grey-lighten-1",size:"64"},{default:l(()=>[m("tabler-photo-off")]),_:1})])]),_:2},1032,["src","alt"]),t.stock<=5&&t.stock>0?(V(),re(ye,{key:0,class:"stock-badge",color:"orange",size:"small"},{default:l(()=>[m(" Plus que "+k(t.stock),1)]),_:2},1024)):t.stock===0?(V(),re(ye,{key:1,class:"stock-badge",color:"red",size:"small"},{default:l(()=>[m(" Épuisé ")]),_:1})):oe("",!0)]),e(_e,{class:"pb-2"},{default:l(()=>[r("h3",fa,k(t.title),1),r("p",ha,k(t.description),1),t.user?(V(),q("div",pa,[e(we,{size:"24",class:"me-2"},{default:l(()=>[e(Y,{size:"16"},{default:l(()=>[m("tabler-user")]),_:1})]),_:1}),r("span",ba," Par "+k(t.user.name),1)])):oe("",!0)]),_:2},1024),e(qe,{class:"pt-0"},{default:l(()=>[r("div",_a,[r("div",ya,k(h(t.price))+" DZD ",1),r("div",ga,[e(N,{color:"primary",variant:"outlined",size:"small",disabled:t.stock===0,onClick:le=>ie(t)},{default:l(()=>[m(" Voir ")]),_:2},1032,["disabled","onClick"]),e(N,{color:"success",variant:"flat",size:"small",disabled:t.stock===0,onClick:le=>ne(t)},{default:l(()=>[e(Y,null,{default:l(()=>[m("tabler-shopping-cart")]),_:1})]),_:2},1032,["disabled","onClick"])])])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})):(V(),q("div",ka,[(V(!0),q(fe,null,he(T.value,t=>(V(),re(ve,{key:t.id,class:"product-list-card",elevation:"2",hover:""},{default:l(()=>[e(de,{"no-gutters":""},{default:l(()=>[e(F,{cols:"12",sm:"4",md:"3"},{default:l(()=>[e(Ce,{src:ae(t.photo),alt:t.title,height:"200",cover:""},{placeholder:l(()=>[r("div",xa,[e(Y,{color:"grey-lighten-1",size:"64"},{default:l(()=>[m("tabler-photo")]),_:1})])]),_:2},1032,["src","alt"])]),_:2},1024),e(F,{cols:"12",sm:"8",md:"9"},{default:l(()=>[e(_e,{class:"pa-6"},{default:l(()=>[r("div",Va,[r("div",null,[r("h3",wa,k(t.title),1),t.user?(V(),q("div",Sa,[e(we,{size:"20",class:"me-2"},{default:l(()=>[e(Y,{size:"12"},{default:l(()=>[m("tabler-user")]),_:1})]),_:1}),r("span",Ca," Par "+k(t.user.name),1)])):oe("",!0)]),r("div",Ta,[r("div",Pa,k(h(t.price))+" DZD ",1),t.stock<=5&&t.stock>0?(V(),re(ye,{key:0,color:"orange",size:"small"},{default:l(()=>[m(" Plus que "+k(t.stock),1)]),_:2},1024)):t.stock===0?(V(),re(ye,{key:1,color:"red",size:"small"},{default:l(()=>[m(" Épuisé ")]),_:1})):oe("",!0)])]),r("p",za,k(t.description),1),r("div",La,[e(N,{color:"primary",variant:"outlined",disabled:t.stock===0,onClick:le=>ie(t)},{default:l(()=>[m(" Voir le produit ")]),_:2},1032,["disabled","onClick"]),e(N,{color:"success",disabled:t.stock===0,onClick:le=>ne(t)},{default:l(()=>[e(Y,{class:"me-2"},{default:l(()=>[m("tabler-shopping-cart")]),_:1}),m(" Commander ")]),_:2},1032,["disabled","onClick"])])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))])),b.value>1?(V(),q("div",Ba,[e(Ct,{modelValue:u.value,"onUpdate:modelValue":[o[9]||(o[9]=t=>u.value=t),ke],length:b.value,"total-visible":7,color:"primary"},null,8,["modelValue","length"])])):oe("",!0)]))]),_:1})]),e(Lt,{modelValue:O.value,"onUpdate:modelValue":o[17]||(o[17]=t=>O.value=t),"max-width":"800px",persistent:""},{default:l(()=>[e(ve,null,{default:l(()=>[e(gt,{class:"text-h5 d-flex align-center"},{default:l(()=>[e(Y,{class:"me-2",color:"success"},{default:l(()=>[m("tabler-shopping-cart")]),_:1}),m(" Passer une commande ")]),_:1}),e(be),e(_e,{class:"pa-6"},{default:l(()=>[U.value?(V(),q("div",Da,[e(Y,{color:"success",size:"80",class:"mb-4"},{default:l(()=>[m("tabler-check-circle")]),_:1}),Ma,Ra])):(V(),q("div",Ea,[w.value?(V(),q("div",Aa,[Fa,e(ve,{variant:"outlined"},{default:l(()=>[e(de,{"no-gutters":""},{default:l(()=>[e(F,{cols:"4"},{default:l(()=>[e(Ce,{src:ae(w.value.photo),height:"120",cover:""},null,8,["src"])]),_:1}),e(F,{cols:"8"},{default:l(()=>[e(_e,null,{default:l(()=>[r("h4",$a,k(w.value.title),1),r("p",qa,k(w.value.description),1),r("div",Na,[r("span",Ia,k(h(w.value.price))+" DZD ",1),r("span",ja," Stock: "+k(w.value.stock)+" disponible"+k(w.value.stock>1?"s":""),1)])]),_:1})]),_:1})]),_:1})]),_:1})])):oe("",!0),r("div",Oa,[Ua,e(de,{align:"center"},{default:l(()=>[e(F,{cols:"6",sm:"4"},{default:l(()=>{var t;return[e(me,{modelValue:x.value.quantity,"onUpdate:modelValue":o[10]||(o[10]=le=>x.value.quantity=le),modelModifiers:{number:!0},type:"number",label:"Quantité",variant:"outlined",min:1,max:((t=w.value)==null?void 0:t.stock)||1,rules:G.value,"hide-details":"auto"},null,8,["modelValue","max","rules"])]}),_:1}),e(F,{cols:"6",sm:"8"},{default:l(()=>[r("div",Za," Total: "+k(h(d()))+" DZD ",1)]),_:1})]),_:1})]),r("div",Ka,[Qa,e(de,null,{default:l(()=>[e(F,{cols:"12",md:"6"},{default:l(()=>[e(me,{modelValue:x.value.buyer_info.full_name,"onUpdate:modelValue":o[11]||(o[11]=t=>x.value.buyer_info.full_name=t),label:"Nom complet *",variant:"outlined",rules:M.full_name,"hide-details":"auto"},null,8,["modelValue","rules"])]),_:1}),e(F,{cols:"12",md:"6"},{default:l(()=>[e(me,{modelValue:x.value.buyer_info.email,"onUpdate:modelValue":o[12]||(o[12]=t=>x.value.buyer_info.email=t),label:"Email *",type:"email",variant:"outlined",rules:M.email,"hide-details":"auto"},null,8,["modelValue","rules"])]),_:1}),e(F,{cols:"12",md:"6"},{default:l(()=>[e(me,{modelValue:x.value.buyer_info.phone,"onUpdate:modelValue":o[13]||(o[13]=t=>x.value.buyer_info.phone=t),label:"Téléphone *",variant:"outlined",rules:M.phone,"hide-details":"auto"},null,8,["modelValue","rules"])]),_:1}),e(F,{cols:"12",md:"6"},{default:l(()=>[e(Se,{modelValue:x.value.buyer_info.wilaya,"onUpdate:modelValue":o[14]||(o[14]=t=>x.value.buyer_info.wilaya=t),items:ee,label:"Wilaya *",variant:"outlined",rules:M.wilaya,"hide-details":"auto"},null,8,["modelValue","rules"])]),_:1}),e(F,{cols:"12"},{default:l(()=>[e(Tt,{modelValue:x.value.buyer_info.address,"onUpdate:modelValue":o[15]||(o[15]=t=>x.value.buyer_info.address=t),label:"Adresse complète *",variant:"outlined",rows:"3",rules:M.address,"hide-details":"auto"},null,8,["modelValue","rules"])]),_:1})]),_:1})]),A.value?(V(),re(Pt,{key:1,type:"error",class:"mb-4",dismissible:"","onClick:close":o[16]||(o[16]=t=>A.value=null)},{default:l(()=>[m(k(A.value),1)]),_:1})):oe("",!0)]))]),_:1}),e(be),e(qe,{class:"pa-6"},{default:l(()=>[e(zt),e(N,{variant:"text",onClick:ue,disabled:Q.value},{default:l(()=>[m(" Annuler ")]),_:1},8,["disabled"]),U.value?oe("",!0):(V(),re(N,{key:0,color:"success",loading:Q.value,onClick:B},{default:l(()=>[m(" Confirmer la commande ")]),_:1},8,["loading"]))]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}},xl=ft(Wa,[["__scopeId","data-v-1d70d623"]]);export{xl as default};
