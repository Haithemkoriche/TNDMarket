import{a as d}from"./axios-DGDcxXwr.js";import{r as p,ad as h,D as v,f as C,e as t,o as f,b as e,s,t as l,a3 as g,p as T,$ as x,c as B,h as b,F as w}from"./main-BaaxU7u_.js";import{V as A,a as $}from"./VRow-DWkoVhRZ.js";import{V as D,b as I}from"./VCard-qOwQnKaN.js";import{V as L}from"./VCardText-DHqodwx9.js";import{V as S}from"./VDataTable--edFkA1N.js";import{V as z}from"./VChip-CcYLCn_t.js";import{V as P}from"./VMenu-62ETFCUt.js";import{V as j,a as F,b as M}from"./VList-BMN_Y16l.js";/* empty css              */import"./VAvatar-fH7oXIj0.js";import"./VImg-CsLNaE2M.js";import"./VTextField-DX4T_R8n.js";import"./forwardRefs-DWGaNmQL.js";import"./VOverlay-5QeYpmUP.js";import"./scopeId-BisKJNJb.js";import"./VCheckboxBtn-ChYJ_Ojh.js";import"./VSelectionControl-cya76OLo.js";import"./VDivider-UFgmqBFa.js";const it={__name:"index",setup(N){const n=p([]),i=p(!1),_=["en_attente","confirme","livre"],c=h("accessToken").value,V=[{title:"ID",key:"id"},{title:"Product",key:"product.title"},{title:"Buyer",key:"buyer.name"},{title:"Quantity",key:"quantity"},{title:"Total Price",key:"total_price"},{title:"Status",key:"status"},{title:"Actions",key:"actions"}],u=async()=>{i.value=!0;try{const{data:a}=await d.get("/api/orders",{headers:{Authorization:`Bearer ${c}`,Accept:"application/json"}});n.value=a}catch(a){console.error(a)}finally{i.value=!1}},y=async(a,m)=>{try{await d.put(`/api/orders/${a}/status`,{status:m,headers:{Authorization:`Bearer ${c}`,Accept:"application/json"}}),u()}catch(r){console.error(r)}},k=a=>{switch(a){case"en_attente":return"warning";case"confirme":return"info";case"livre":return"success";default:return"secondary"}};return v(()=>{u()}),(a,m)=>(f(),C(A,null,{default:t(()=>[e($,{cols:"12"},{default:t(()=>[e(D,null,{default:t(()=>[e(I,null,{default:t(()=>[s("Orders")]),_:1}),e(L,null,{default:t(()=>[e(S,{headers:V,items:n.value,loading:i.value},{"item.total_price":t(({item:r})=>[s(l(r.total_price)+" â‚¬ ",1)]),"item.status":t(({item:r})=>[e(z,{color:k(r.status)},{default:t(()=>[s(l(r.status),1)]),_:2},1032,["color"])]),"item.actions":t(({item:r})=>[e(P,null,{activator:t(({props:o})=>[e(g,T({icon:"",size:"small"},o),{default:t(()=>[e(x,{icon:"tabler-dots-vertical"})]),_:2},1040)]),default:t(()=>[e(j,null,{default:t(()=>[(f(),B(w,null,b(_,o=>e(F,{key:o,onClick:O=>y(r.id,o)},{default:t(()=>[e(M,null,{default:t(()=>[s(l(o),1)]),_:2},1024)]),_:2},1032,["onClick"])),64))]),_:2},1024)]),_:2},1024)]),_:2},1032,["items","loading"])]),_:1})]),_:1})]),_:1})]),_:1}))}};export{it as default};
