import{_ as F}from"./AppTextarea-DbTzv2XX.js";import{V as O,_ as z}from"./VForm-Div2171k.js";import{a6 as G,a8 as M,ab as N,b as e,p as I,a7 as J,aj as P,aa as W,L as q,a9 as H,aW as K,F as R,r as v,o as y,c as C,d as u,m as l,t as k,e as t,s as g,a2 as Q,f as X,x as L,a3 as Y,j as Z,a as ee,E as x}from"./main-BaaxU7u_.js";import{u as U,a as ae,b as le}from"./misc-mask-light-CAoH_xaN.js";import{V as te,a as oe,b as se,c as re,d as ne}from"./VAlert-C2TAWkQ5.js";import{V as de}from"./VNodeRenderer-BiZxuysH.js";import{a as ie}from"./axios-DGDcxXwr.js";import{a as d,V as A}from"./VRow-DWkoVhRZ.js";import{V as ue}from"./VImg-CsLNaE2M.js";import{V as me}from"./VCard-qOwQnKaN.js";import{V as S}from"./VCardText-DHqodwx9.js";import{m as ce,V as B,h as pe}from"./VTextField-DX4T_R8n.js";import{m as fe,V as w,a as Ve,b as he}from"./VSelectionControl-cya76OLo.js";import"./forwardRefs-DWGaNmQL.js";import"./VAvatar-fH7oXIj0.js";/* empty css              */const ge=G({...fe({falseIcon:"$radioOff",trueIcon:"$radioOn"})},"VRadio"),D=M()({name:"VRadio",props:ge(),setup(s,c){let{slots:a}=c;return N(()=>{const i=w.filterProps(s);return e(w,I(i,{class:["v-radio",s.class],style:s.style,type:"radio"}),a)}),{}}}),_e=G({height:{type:[Number,String],default:"auto"},...ce(),...J(Ve(),["multiple"]),trueIcon:{type:P,default:"$radioOn"},falseIcon:{type:P,default:"$radioOff"},type:{type:String,default:"radio"}},"VRadioGroup"),be=M()({name:"VRadioGroup",inheritAttrs:!1,props:_e(),emits:{"update:modelValue":s=>!0},setup(s,c){let{attrs:a,slots:i}=c;const p=W(),_=q(()=>s.id||`radio-group-${p}`),m=H(s,"modelValue");return N(()=>{const[b,f]=K(a),o=B.filterProps(s),n=w.filterProps(s),V=i.label?i.label({label:s.label,props:{for:_.value}}):s.label;return e(B,I({class:["v-radio-group",s.class],style:s.style},b,o,{modelValue:m.value,"onUpdate:modelValue":h=>m.value=h,id:_.value}),{...i,default:h=>{let{id:r,messagesId:T,isDisabled:$,isReadonly:j}=h;return e(R,null,[V&&e(pe,{id:r.value},{default:()=>[V]}),e(he,I(n,{id:r.value,"aria-describedby":T.value,defaultsTarget:"VRadio",trueIcon:s.trueIcon,falseIcon:s.falseIcon,type:s.type,disabled:$.value,readonly:j.value,"aria-labelledby":V?r.value:void 0,multiple:!1},f,{modelValue:m.value,"onUpdate:modelValue":E=>m.value=E}),i)])}})}),{}}}),ve={href:"javascript:void(0)"},ye={class:"auth-logo d-flex align-center gap-x-3"},ke={class:"auth-title"},xe={class:"position-relative bg-background w-100 me-0"},Ie={class:"d-flex align-center justify-center w-100 h-100",style:{"padding-inline":"6.25rem"}},Re=["src"],we={class:"text-h4 mb-1"},Pe={class:"text-capitalize"},Ce=u("p",{class:"mb-0"}," Make your app management easy and fun! ",-1),Le=u("span",{class:"d-inline-block"}," Already have an account? ",-1),We={__name:"register",setup(s){const c=Z(),a=v({name:"",email:"",password:"",role:"user",address:"",phone:"",description:""}),i=v(""),p=v(!1),_=U(ne,re,se,oe,!0),m=U(le,ae),b=async()=>{var f,o;p.value=!0,i.value="";try{const n={name:a.value.name,email:a.value.email,password:a.value.password,role:a.value.role};a.value.role==="centre"&&(n.address=a.value.address,n.phone=a.value.phone,n.description=a.value.description),await ie.post("/api/register",n),c.push("/login")}catch(n){i.value=((o=(f=n.response)==null?void 0:f.data)==null?void 0:o.message)||"Registration failed"}finally{p.value=!1}};return(f,o)=>{const n=z,V=F,h=ee("RouterLink");return y(),C(R,null,[u("a",ve,[u("div",ye,[e(l(de),{nodes:l(x).app.logo},null,8,["nodes"]),u("h1",ke,k(l(x).app.title),1)])]),e(A,{"no-gutters":"",class:"auth-wrapper bg-surface"},{default:t(()=>[e(d,{md:"8",class:"d-none d-md-flex"},{default:t(()=>[u("div",xe,[u("div",Ie,[e(ue,{"max-width":"613",src:l(_),class:"auth-illustration mt-16 mb-2"},null,8,["src"])]),u("img",{class:"auth-footer-mask flip-in-rtl",src:l(m),alt:"auth-footer-mask",height:"280",width:"100"},null,8,Re)])]),_:1}),e(d,{cols:"12",md:"4",class:"auth-card-v2 d-flex align-center justify-center"},{default:t(()=>[e(me,{flat:"","max-width":500,class:"mt-12 mt-sm-0 pa-6"},{default:t(()=>[e(S,null,{default:t(()=>[u("h4",we,[g(" Register to "),u("span",Pe,k(l(x).app.title),1),g(" 🚀 ")]),Ce]),_:1}),e(S,null,{default:t(()=>[e(O,{onSubmit:Q(b,["prevent"])},{default:t(()=>[e(A,null,{default:t(()=>[e(d,{cols:"12"},{default:t(()=>[l(i)?(y(),X(te,{key:0,type:"error",variant:"tonal",class:"mb-4"},{default:t(()=>[g(k(l(i)),1)]),_:1})):L("",!0)]),_:1}),e(d,{cols:"12"},{default:t(()=>[e(be,{modelValue:l(a).role,"onUpdate:modelValue":o[0]||(o[0]=r=>l(a).role=r),inline:""},{default:t(()=>[e(D,{label:"User",value:"user"}),e(D,{label:"Center",value:"centre"})]),_:1},8,["modelValue"])]),_:1}),e(d,{cols:"12"},{default:t(()=>[e(n,{modelValue:l(a).name,"onUpdate:modelValue":o[1]||(o[1]=r=>l(a).name=r),label:"Full Name",placeholder:"John Doe"},null,8,["modelValue"])]),_:1}),e(d,{cols:"12"},{default:t(()=>[e(n,{modelValue:l(a).email,"onUpdate:modelValue":o[2]||(o[2]=r=>l(a).email=r),label:"Email",type:"email",placeholder:"johndoe@email.com"},null,8,["modelValue"])]),_:1}),e(d,{cols:"12"},{default:t(()=>[e(n,{modelValue:l(a).password,"onUpdate:modelValue":o[3]||(o[3]=r=>l(a).password=r),label:"Password",type:"password",placeholder:"············"},null,8,["modelValue"])]),_:1}),l(a).role==="centre"?(y(),C(R,{key:0},[e(d,{cols:"12"},{default:t(()=>[e(n,{modelValue:l(a).address,"onUpdate:modelValue":o[4]||(o[4]=r=>l(a).address=r),label:"Address",placeholder:"Enter your address"},null,8,["modelValue"])]),_:1}),e(d,{cols:"12"},{default:t(()=>[e(n,{modelValue:l(a).phone,"onUpdate:modelValue":o[5]||(o[5]=r=>l(a).phone=r),label:"Phone",placeholder:"Enter your phone"},null,8,["modelValue"])]),_:1}),e(d,{cols:"12"},{default:t(()=>[e(V,{modelValue:l(a).description,"onUpdate:modelValue":o[6]||(o[6]=r=>l(a).description=r),label:"Description",placeholder:"Enter center description"},null,8,["modelValue"])]),_:1})],64)):L("",!0),e(d,{cols:"12"},{default:t(()=>[e(Y,{block:"",type:"submit",loading:l(p)},{default:t(()=>[g(" Register ")]),_:1},8,["loading"])]),_:1}),e(d,{cols:"12",class:"text-body-1 text-center"},{default:t(()=>[Le,e(h,{class:"text-primary ms-1 d-inline-block text-body-1",to:"/login"},{default:t(()=>[g(" Login ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})],64)}}};export{We as default};
